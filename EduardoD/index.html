<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Quiz Profissional</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f9f9f9;
      color: #333;
      transition: background 0.3s, color 0.3s;
    }
    body.dark {
      background: #121212;
      color: #f1f1f1;
    }
    .container {
      max-width: 700px;
      margin: 50px auto;
      padding: 20px;
    }
    .question, .response, #finalStep, #result {
      display: none;
      margin-bottom: 20px;
    }
    .question.active, .response.active, #finalStep.active, #result.active {
      display: block;
    }
    button {
      padding: 10px 20px;
      border: none;
      background: #0077cc;
      color: #fff;
      cursor: pointer;
      border-radius: 5px;
      margin: 5px;
    }
    button:hover { background: #005fa3; }
    .dark button { background: #3399ff; }
    .toggle-mode {
      position: absolute;
      top: 20px;
      right: 20px;
      padding: 10px;
      border-radius: 50%;
    }
    input[type="text"], input[type="email"], input[type="tel"] {
      display: block;
      margin: 10px 0;
      padding: 8px;
      width: 100%;
    }
  </style>
</head>
<body>
  <button class="toggle-mode" onclick="toggleMode()">üåô</button>
  <div class="container">
    <h1>Quiz Profissional</h1>
    <div id="quiz"></div>

    <!-- Etapa final com checkbox e dados opcionais -->
    <div id="finalStep">
      <label>
        <input type="checkbox" id="acceptTerms"> Concordo em enviar minhas respostas
      </label>
      <h3>Dados de contato (opcional):</h3>
      <input type="text" id="name" placeholder="Nome">
      <input type="email" id="email" placeholder="Email">
      <input type="tel" id="phone" placeholder="Telefone">
      <button onclick="finishQuiz()">Ver resultado</button>
    </div>

    <!-- Resultado final -->
    <div id="result"></div>
  </div>

  <!-- Firebase -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

    // üî• Configure aqui com suas credenciais
const firebaseConfig = {
  apiKey: "AIzaSyDXxROxwgMhkFV4W0kclg0qz2ZxF35wFO0",
  authDomain: "quiz-senac-fcbd8.firebaseapp.com",
  databaseURL: "https://quiz-senac-fcbd8-default-rtdb.firebaseio.com",
  projectId: "quiz-senac-fcbd8",
  storageBucket: "quiz-senac-fcbd8.firebasestorage.app",
  messagingSenderId: "455632348529",
  appId: "1:455632348529:web:46db46d688f3bf6c2342d0",
  measurementId: "G-KH98HQSRMP"
};

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Perguntas
    const questions = [
      {
        text: "Voc√™ est√° empregado?",
        yes: "‚úÖ Sim: Voc√™ est√° trabalhando, parab√©ns! Estar empregado j√° √© um passo importante para manter sua experi√™ncia ativa e abrir portas para novas oportunidades. Continue investindo em si mesmo para n√£o apenas se manter no mercado, mas tamb√©m crescer.",
        no: "‚ùå N√£o: Voc√™ desempregado, mas n√£o desanime. Segundo dados do IBGE, cerca de 7,5% dos brasileiros est√£o desempregados (2025). Isso mostra que a competi√ß√£o √© grande, mas tamb√©m que quem se qualifica aumenta muito suas chances de voltar ao mercado. Talvez seja a hora de investir em cursos profissionalizantes para reverter essa condi√ß√£o. "
      },
      {
        text: "Atualmente voc√™ est√° estudando?",
        yes: "‚úÖ Sim: Estudar √© uma das maiores vantagens competitivas no mundo do trabalho. Quem estuda aumenta em at√© 73% as chances de conquistar melhores sal√°rios, segundo pesquisas do Ipea. Voc√™ j√° est√° no caminho certo! ",
        no: "‚ùå N√£o: Aten√ß√£o: deixar de estudar pode ser um freio na sua carreira. Em um mundo em que as profiss√µes mudam rapidamente, quem n√£o estuda fica para tr√°s. Que tal come√ßar com algo acess√≠vel, acesse as oficinas online gratuitas do Senac em senacrs.com.br "
      },
      {
        text: "Voc√™ domina o uso do computador (pacote Office)?",
        yes: "‚úÖ Sim: O dom√≠nio do Excel, Word e PowerPoint √© praticamente uma necessidade universal no mercado de trabalho. Esse conhecimento torna voc√™ mais produtivo e preparado para qualquer vaga. ",
        no: "‚ùå N√£o: Se voc√™ ainda n√£o domina o uso do computador vale a pena aprender. O pacote Office √© exigido em 8 de cada 10 vagas de emprego administrativo no Brasil. Hoje existem cursos que podem ser conclu√≠dos em poucas semanas. "
      },
      {
        text: "J√° utiliza Intelig√™ncia Artificial em seu dia a dia?",
        yes: "‚úÖ Sim: Voc√™ sabia que o uso de IA √© cada vez mais valorizado pelas empresas? Segundo a PwC, at√© 2030, a IA pode adicionar at√© 15,7 trilh√µes de d√≥lares √† economia global. Voc√™ j√° est√° surfando essa onda! ",
        no: "‚ùå N√£o: Aten√ß√£o, voc√™ est√° deixando passar uma grande oportunidade. A IA j√° est√° transformando o mercado de trabalho em todas as √°reas. Aprender a us√°-la n√£o exige forma√ß√£o em tecnologia: qualquer pessoa pode come√ßar com ferramentas simples para aumentar sua produtividade. "
      },
      {
        text: "Fez algum curso de atualiza√ß√£o nos √∫ltimos 2 anos?",
        yes: "‚úÖ Sim: Parab√©ns por ter feito um curso nos √∫ltimos 2 anos! Esse √© o esp√≠rito de um profissional atualizado. Estudos mostram que quem investe regularmente em capacita√ß√£o tem at√© 30% mais chances de progress√£o na carreira. ",
        no: "‚ùå N√£o: O conhecimento envelhece cada vez mais rapidamente. Em muitas √°reas, o que voc√™ aprendeu h√° 5 anos pode j√° estar ultrapassado. Pequenos cursos podem reabrir portas para novas oportunidades."
      },
      {
        text: "Possui aplicativos em celular utilizados para o seu trabalho?",
        yes: "‚úÖ Sim: Hoje o celular √© uma ferramenta essencial na vida da gente e no trabalho. Profissionais que utilizam aplicativos para otimizar tarefas ganham em produtividade e organiza√ß√£o. ",
        no: "‚ùå N√£o: Se voc√™ ainda n√£o possui apps em seu celular utilizados para o trabalho e organiza√ß√£o do dia a dia voc√™ pode estar perdendo tempo. H√° aplicativos gratuitos que ajudam desde organiza√ß√£o de tarefas at√© controle de finan√ßas. Inserir essa pr√°tica no dia a dia tamb√©m √© um diferencial importante."
      },
      {
        text: "Voc√™ compreende minimamente um outro idioma?",
        yes: "‚úÖ Sim: Por fim, dentre as compet√™ncias necess√°rias atualmente, dominar outro idioma √© abrir portas para o mundo. O ingl√™s, por exemplo, pode aumentar o sal√°rio em at√© 61% no Brasil, segundo a Catho. ",
        no: "‚ùå N√£o: Dominar um segundo idioma √©, tamb√©m, uma habilidade estrat√©gica atualmente. Mesmo aprender o b√°sico j√° faz diferen√ßa."
      },
      {
        text: "J√° tem um objetivo profissional definido?",
        yes: "‚úÖ Sim: Voc√™ tem um objtivo profissional definido, parab√©ns! Ter clareza do objetivo ajuda a focar energia e esfor√ßos, transformando passos em conquistas. Isso mostra que voc√™ tem vis√£o de futuro. ",
        no: "‚ùå N√£o: Sem metas claras, √© f√°cil andar em c√≠rculos. Definir um objetivo profissional √© como tra√ßar um mapa: voc√™ pode at√© mudar o caminho, mas sabe para onde quer ir. Reflita sobre o que realmente deseja alcan√ßar."
      }
    ];

    const finalMessages = {
      moreYes: "Agora √© a sua vez de crescer! Suas respostas indicam que voc√™ est√° no caminho certo, j√° construiu uma boa base e deve continuar se atualizando. O pr√≥ximo passo pode ser buscar especializa√ß√µes e ampliar seu networking. Conte com o Senac para seguir nessa jornada de crescimento! ",
      balanced: "Agora √© a sua vez de inovar! Suas respostas indicam que voc√™ j√° tem conquistas, mas precisa acelerar a qualifica√ß√£o para n√£o perder espa√ßo. Um plano de estudos e a ado√ß√£o de novas ferramentas tecnol√≥gicas podem fazer a diferen√ßa. Conte com o Senac para acelerar essa jornada de crescimento! ",
      moreNo: "Agora √© a sua vez de mudar! Suas respostas mostram que √© hora de agir! N√£o encare como cr√≠tica, mas como ponto de partida. Comece por algo simples: um curso online, aprender a usar uma IA ou aplicativos no celular. Cada pequeno passo abre novas oportunidades e o Senac est√° aqui para te ajudar. "
    };

    let current = 0;
    let yesCount = 0, noCount = 0;

    const quizDiv = document.getElementById("quiz");
    const finalStep = document.getElementById("finalStep");
    const resultDiv = document.getElementById("result");

    function showQuestion() {
      if (current < questions.length) {
        const q = questions[current];
        quizDiv.innerHTML = `
          <div class="question active">
            <h3>${q.text}</h3>
            <button onclick="answer(true)">Sim</button>
            <button onclick="answer(false)">N√£o</button>
          </div>`;
      } else {
        quizDiv.innerHTML = "";
        finalStep.classList.add("active");
      }
    }

    window.answer = function(choice) {
      const q = questions[current];
      const text = choice ? q.yes : q.no;
      if (choice) yesCount++; else noCount++;

      quizDiv.innerHTML = `<div class="response active"><p>${text}</p>
        <button onclick="nextQuestion()">Pr√≥xima</button></div>`;
    };

    window.nextQuestion = function() {
      current++;
      showQuestion();
    };

    window.finishQuiz = async function() {
      const accept = document.getElementById("acceptTerms").checked;
      if (!accept) {
        alert("Voc√™ deve marcar o checkbox para ver o resultado.");
        return;
      }

      let message = "";
      if (yesCount > noCount) message = finalMessages.moreYes;
      else if (yesCount === noCount) message = finalMessages.balanced;
      else message = finalMessages.moreNo;

      resultDiv.innerHTML = `<h2>Resultado Final</h2><p>${message}</p>`;
      resultDiv.classList.add("active");

      // Dados opcionais
      const name = document.getElementById("name").value.trim();
      const email = document.getElementById("email").value.trim();
      const phone = document.getElementById("phone").value.trim();

      const dataToSend = {
        yesCount,
        noCount,
        timestamp: new Date()
      };

      if (name || email || phone) {
        dataToSend.name = name;
        dataToSend.email = email;
        dataToSend.phone = phone;
      }

      try {
        await addDoc(collection(db, "respostas"), dataToSend);
        alert("Respostas enviadas com sucesso!");
      } catch (e) {
        alert("Erro ao enviar: " + e.message);
      }

      finalStep.classList.remove("active");
    };

    window.toggleMode = function() {
      document.body.classList.toggle("dark");
    };

    showQuestion();
  </script>
</body>
</html>
